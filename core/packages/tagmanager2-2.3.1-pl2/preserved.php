<?php return array (
  'ee1c030789984267211ad9ead2f424ee' => 
  array (
    'criteria' => 
    array (
      'name' => 'tag_manager2',
    ),
    'object' => 
    array (
      'name' => 'tag_manager2',
      'path' => '{core_path}components/tag_manager2/',
      'assets_path' => '{assets_path}components/tag_manager2/',
    ),
  ),
  '613e91dc51b513095ec9420e5cd55eca' => 
  array (
    'criteria' => 
    array (
      'text' => 'tag_manager2',
    ),
    'object' => 
    array (
      'text' => 'tag_manager2',
      'parent' => 'components',
      'action' => 'index',
      'description' => 'tag_manager2_desc',
      'icon' => '',
      'menuindex' => 0,
      'params' => '',
      'handler' => '',
      'permissions' => '',
      'namespace' => 'tag_manager2',
    ),
  ),
  '995aaea7a6dadbcf479ef776e2ddcc86' => 
  array (
    'criteria' => 
    array (
      'key' => 'tag_mgr2.catalog_context',
    ),
    'object' => 
    array (
      'key' => 'tag_mgr2.catalog_context',
      'value' => 'web',
      'xtype' => 'textfield',
      'namespace' => 'tag_manager2',
      'area' => 'module',
      'editedon' => NULL,
    ),
  ),
  '25e5db3b32d8ea2fc7ee1956620010ce' => 
  array (
    'criteria' => 
    array (
      'key' => 'tag_mgr2.catalog_id',
    ),
    'object' => 
    array (
      'key' => 'tag_mgr2.catalog_id',
      'value' => '3',
      'xtype' => 'textfield',
      'namespace' => 'tag_manager2',
      'area' => 'module',
      'editedon' => '2017-12-18 15:22:57',
    ),
  ),
  '8263d82d6e0f182c82a8070f30a474d7' => 
  array (
    'criteria' => 
    array (
      'key' => 'tag_mgr2.className',
    ),
    'object' => 
    array (
      'key' => 'tag_mgr2.className',
      'value' => 'modResource',
      'xtype' => 'textfield',
      'namespace' => 'tag_manager2',
      'area' => 'module',
      'editedon' => NULL,
    ),
  ),
  'f135a19f35666374ef2a02afd10e2417' => 
  array (
    'criteria' => 
    array (
      'key' => 'tag_mgr2.packageName',
    ),
    'object' => 
    array (
      'key' => 'tag_mgr2.packageName',
      'value' => 'modResource',
      'xtype' => 'textfield',
      'namespace' => 'tag_manager2',
      'area' => 'module',
      'editedon' => NULL,
    ),
  ),
  '7f15f86c1d443dc81b2a7cb8a5e98456' => 
  array (
    'criteria' => 
    array (
      'key' => 'tag_mgr2.guard_key',
    ),
    'object' => 
    array (
      'key' => 'tag_mgr2.guard_key',
      'value' => '#',
      'xtype' => 'textfield',
      'namespace' => 'tag_manager2',
      'area' => 'module',
      'editedon' => NULL,
    ),
  ),
  '5363c83a683905fc90f91a5dc58f256f' => 
  array (
    'criteria' => 
    array (
      'key' => 'tag_mgr2.multitags',
    ),
    'object' => 
    array (
      'key' => 'tag_mgr2.multitags',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'tag_manager2',
      'area' => 'module',
      'editedon' => NULL,
    ),
  ),
  'e15f4bdf18a6b87b16b165e54282c416' => 
  array (
    'criteria' => 
    array (
      'key' => 'tag_mgr2.numeric',
    ),
    'object' => 
    array (
      'key' => 'tag_mgr2.numeric',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'tag_manager2',
      'area' => 'module',
      'editedon' => '2017-12-05 12:56:49',
    ),
  ),
  '8376272dcc394decf11b5cdf0ac35e4e' => 
  array (
    'criteria' => 
    array (
      'key' => 'tag_mgr2.prod_templates',
    ),
    'object' => 
    array (
      'key' => 'tag_mgr2.prod_templates',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'tag_manager2',
      'area' => 'module',
      'editedon' => '2017-12-18 15:21:09',
    ),
  ),
  '29eaef816e75679cc7704e65437698cd' => 
  array (
    'criteria' => 
    array (
      'key' => 'tag_mgr2.propertySetName',
    ),
    'object' => 
    array (
      'key' => 'tag_mgr2.propertySetName',
      'value' => 'catalog_filters',
      'xtype' => 'textfield',
      'namespace' => 'tag_manager2',
      'area' => 'module',
      'editedon' => NULL,
    ),
  ),
  'e30518bc0ff1e9b5907190c4a0d804bf' => 
  array (
    'criteria' => 
    array (
      'key' => 'tag_mgr2.propertySetSnippet',
    ),
    'object' => 
    array (
      'key' => 'tag_mgr2.propertySetSnippet',
      'value' => 'pdoPage',
      'xtype' => 'textfield',
      'namespace' => 'tag_manager2',
      'area' => 'module',
      'editedon' => '2017-12-18 15:24:30',
    ),
  ),
  'cceaea0e6bf8cea60a40719e13bc2268' => 
  array (
    'criteria' => 
    array (
      'name' => 'tmRefresh',
    ),
    'object' => 
    array (
      'id' => 20,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tmRefresh',
      'description' => 'Refresh tagManager filters data.',
      'editor_type' => 0,
      'category' => 0,
      'cache_type' => 0,
      'plugincode' => '',
      'locked' => 0,
      'properties' => 'a:0:{}',
      'disabled' => 1,
      'moduleguid' => '',
      'static' => 1,
      'static_file' => 'core/components/tag_manager2/elements/plugins/plugin.tm_refresh.php',
      'content' => '',
    ),
  ),
  '02d26012511f5d590c48cc4d234ad9b6' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 20,
      'event' => 'OnDocFormSave',
    ),
    'object' => 
    array (
      'pluginid' => 20,
      'event' => 'OnDocFormSave',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '8f00b71e5f4ed5dee4f969514ace68e5' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 20,
      'event' => 'OnCacheUpdate',
    ),
    'object' => 
    array (
      'pluginid' => 20,
      'event' => 'OnCacheUpdate',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '11e98955e41fa24dba2b8759ce2f737c' => 
  array (
    'criteria' => 
    array (
      'category' => 'tagManager2',
    ),
    'object' => 
    array (
      'id' => 31,
      'parent' => 0,
      'category' => 'tagManager2',
      'rank' => 0,
    ),
  ),
  'c57ef79ad48341772f4d832e30ddf72a' => 
  array (
    'criteria' => 
    array (
      'name' => 'tm2_filterNumericTpl',
    ),
    'object' => 
    array (
      'id' => 82,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tm2_filterNumericTpl',
      'description' => '',
      'editor_type' => 0,
      'category' => 31,
      'cache_type' => 0,
      'snippet' => '<div id="range_[[+name]]" class="range-slider"></div>
<div class="filter_slider">
    от
    <input type="text" id="[[+name]]Min" value="[[+min]]" name="f_[[+name]][from]" style="width:50px;" />
    до
    <input type="text" id="[[+name]]Max" value="[[+max]]" name="f_[[+name]][to]" style="width:50px;" />
</div>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => '',
      'content' => '<div id="range_[[+name]]" class="range-slider"></div>
<div class="filter_slider">
    от
    <input type="text" id="[[+name]]Min" value="[[+min]]" name="f_[[+name]][from]" style="width:50px;" />
    до
    <input type="text" id="[[+name]]Max" value="[[+max]]" name="f_[[+name]][to]" style="width:50px;" />
</div>',
    ),
  ),
  'fd5de2ff486a379a668de12757eb9bf3' => 
  array (
    'criteria' => 
    array (
      'name' => 'tm2_filterOuterTpl',
    ),
    'object' => 
    array (
      'id' => 83,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tm2_filterOuterTpl',
      'description' => '',
      'editor_type' => 0,
      'category' => 31,
      'cache_type' => 0,
      'snippet' => '<div class="filter_block">
    
    <div class="filter_head"><h3>[[+caption]]</h3></div>
    
    [[+inner]]

</div>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => '',
      'content' => '<div class="filter_block">
    
    <div class="filter_head"><h3>[[+caption]]</h3></div>
    
    [[+inner]]

</div>',
    ),
  ),
  'c7dda8851a9f01c8337a2d24a101c1a0' => 
  array (
    'criteria' => 
    array (
      'name' => 'tm2_filterOuterTpl_select',
    ),
    'object' => 
    array (
      'id' => 84,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tm2_filterOuterTpl_select',
      'description' => '',
      'editor_type' => 0,
      'category' => 31,
      'cache_type' => 0,
      'snippet' => '<div class="filter_block">
    
    <div class="filter_head"><h3>[[+caption]]</h3></div>
    
    <select name="f_[[+name]]" style="width:210px;">
        <option value="">Все</option>
        [[+inner]]
    </select>
    
</div>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => '',
      'content' => '<div class="filter_block">
    
    <div class="filter_head"><h3>[[+caption]]</h3></div>
    
    <select name="f_[[+name]]" style="width:210px;">
        <option value="">Все</option>
        [[+inner]]
    </select>
    
</div>',
    ),
  ),
  'e34bedfb629f0804c7df9717729ad93c' => 
  array (
    'criteria' => 
    array (
      'name' => 'tm2_filterTpl',
    ),
    'object' => 
    array (
      'id' => 85,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tm2_filterTpl',
      'description' => '',
      'editor_type' => 0,
      'category' => 31,
      'cache_type' => 0,
      'snippet' => '<div class="filter_row">
    <input type="checkbox" id="[[+name]]__[[+idx]]" name="[[+flt_name]]" value="[[+value]]" />
    <label for="[[+name]]__[[+idx]]">[[+value_name]]</label>
</div>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => '',
      'content' => '<div class="filter_row">
    <input type="checkbox" id="[[+name]]__[[+idx]]" name="[[+flt_name]]" value="[[+value]]" />
    <label for="[[+name]]__[[+idx]]">[[+value_name]]</label>
</div>',
    ),
  ),
  '15cda17134404b3ed74a609a85fa997c' => 
  array (
    'criteria' => 
    array (
      'name' => 'tm2_filterTpl_select',
    ),
    'object' => 
    array (
      'id' => 86,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tm2_filterTpl_select',
      'description' => '',
      'editor_type' => 0,
      'category' => 31,
      'cache_type' => 0,
      'snippet' => '<option value="[[+value]]">[[+value_name]]</option>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => '',
      'content' => '<option value="[[+value]]">[[+value_name]]</option>',
    ),
  ),
  'db25f6a59d59bc30ac064f8ec78fb6d5' => 
  array (
    'criteria' => 
    array (
      'name' => 'tmFilters',
    ),
    'object' => 
    array (
      'id' => 69,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tmFilters',
      'description' => 'Print filters blocks for catalog.',
      'editor_type' => 0,
      'category' => 31,
      'cache_type' => 0,
      'snippet' => '/**
 * snippet tmFilters
 *
 */

//ini_set(\'display_errors\',1);
//error_reporting(E_ALL);

$create = $modx->getOption(\'create\', $scriptProperties, \'\');
$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, \'\');
$optStyles = $modx->getOption(\'style\', $scriptProperties, 1);
$optJsScripts = $modx->getOption(\'jsScript\', $scriptProperties, 1);

require_once MODX_CORE_PATH."components/tag_manager2/model/tm_filters.class.php";
$tm_filters = new tmFilters($modx, $scriptProperties);

if( $create ){
    $output = $tm_filters->createFilters( $create );
}else{
    $output = $tm_filters->getFiltersOutput();
}

if($toPlaceholder){
    $modx->setPlaceholder($toPlaceholder,$output);
    $output = \'\';
}

if( $optStyles ){
    $modx->regClientCSS($modx->config[\'assets_url\']."components/tag_manager2/css/web/tm-style.css");
}

if( $optJsScripts ){

    $filtersType = $modx->getOption(\'filtersType\', $scriptProperties, \'filters\');
    $shk_currency_default = $modx->getOption(\'shk3.currency_default\', $scriptProperties, \'\');
    $shk_currency_rate = $modx->getOption(\'shk3.currency_rate\', $scriptProperties, \'\');

    //Get currency rate
    if( $shk_currency_default && empty( $shk_currency_rate ) ){
        require_once $modx->getOption(\'core_path\') . "components/shopkeeper3/model/shopkeeper.class.php";
        $shkConfig = Shopkeeper::getConfig(\'currency_rate\');
        $shk_currency_rate = isset( $shkConfig[\'currency_rate\'] )
            ? $shkConfig[\'currency_rate\']
            : array();
    }

    if( $optJsScripts != 2 ){
        $modx->regClientScript($modx->config[\'assets_url\']."components/tag_manager2/js/web/jquery-ui-1.10.3.custom.min.js");
        $modx->regClientScript($modx->config[\'assets_url\']."components/tag_manager2/js/web/jquery.history.js");
        $modx->regClientScript($modx->config[\'assets_url\']."components/tag_manager2/js/web/{$filtersType}.js");
        $modx->regClientScript($modx->config[\'assets_url\']."components/tag_manager2/js/web/view_switch.js");
    }

    $options = array(
        \'base_url\' => $modx->getOption(\'base_url\', null, \'/\'),
        \'currency_default\' => $shk_currency_default,
        \'currency_rate\' => $shk_currency_rate
    );
    $headHtml = \'
    <script type="text/javascript">
    var tmFiltersOptions = \'. json_encode( $options ) .\';
    jQuery(document).ready(function(){
        tmFilters.init( tmFiltersOptions );
    });
    </script>\';
    
    $modx->regClientScript($headHtml,true);
    
}

return $output;',
      'locked' => 0,
      'properties' => 'a:0:{}',
      'moduleguid' => '',
      'static' => 0,
      'static_file' => '',
      'content' => '/**
 * snippet tmFilters
 *
 */

//ini_set(\'display_errors\',1);
//error_reporting(E_ALL);

$create = $modx->getOption(\'create\', $scriptProperties, \'\');
$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, \'\');
$optStyles = $modx->getOption(\'style\', $scriptProperties, 1);
$optJsScripts = $modx->getOption(\'jsScript\', $scriptProperties, 1);

require_once MODX_CORE_PATH."components/tag_manager2/model/tm_filters.class.php";
$tm_filters = new tmFilters($modx, $scriptProperties);

if( $create ){
    $output = $tm_filters->createFilters( $create );
}else{
    $output = $tm_filters->getFiltersOutput();
}

if($toPlaceholder){
    $modx->setPlaceholder($toPlaceholder,$output);
    $output = \'\';
}

if( $optStyles ){
    $modx->regClientCSS($modx->config[\'assets_url\']."components/tag_manager2/css/web/tm-style.css");
}

if( $optJsScripts ){

    $filtersType = $modx->getOption(\'filtersType\', $scriptProperties, \'filters\');
    $shk_currency_default = $modx->getOption(\'shk3.currency_default\', $scriptProperties, \'\');
    $shk_currency_rate = $modx->getOption(\'shk3.currency_rate\', $scriptProperties, \'\');

    //Get currency rate
    if( $shk_currency_default && empty( $shk_currency_rate ) ){
        require_once $modx->getOption(\'core_path\') . "components/shopkeeper3/model/shopkeeper.class.php";
        $shkConfig = Shopkeeper::getConfig(\'currency_rate\');
        $shk_currency_rate = isset( $shkConfig[\'currency_rate\'] )
            ? $shkConfig[\'currency_rate\']
            : array();
    }

    if( $optJsScripts != 2 ){
        $modx->regClientScript($modx->config[\'assets_url\']."components/tag_manager2/js/web/jquery-ui-1.10.3.custom.min.js");
        $modx->regClientScript($modx->config[\'assets_url\']."components/tag_manager2/js/web/jquery.history.js");
        $modx->regClientScript($modx->config[\'assets_url\']."components/tag_manager2/js/web/{$filtersType}.js");
        $modx->regClientScript($modx->config[\'assets_url\']."components/tag_manager2/js/web/view_switch.js");
    }

    $options = array(
        \'base_url\' => $modx->getOption(\'base_url\', null, \'/\'),
        \'currency_default\' => $shk_currency_default,
        \'currency_rate\' => $shk_currency_rate
    );
    $headHtml = \'
    <script type="text/javascript">
    var tmFiltersOptions = \'. json_encode( $options ) .\';
    jQuery(document).ready(function(){
        tmFilters.init( tmFiltersOptions );
    });
    </script>\';
    
    $modx->regClientScript($headHtml,true);
    
}

return $output;',
    ),
  ),
  'd7de0add5a4e329814ad07aae39a58d7' => 
  array (
    'criteria' => 
    array (
      'name' => 'tmCatalog',
    ),
    'object' => 
    array (
      'id' => 70,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tmCatalog',
      'description' => 'Оutput of productы in the catalog.',
      'editor_type' => 0,
      'category' => 31,
      'cache_type' => 0,
      'snippet' => '/**
 * snippet tmCatalog
 *
 */

//error_reporting(E_ALL);
//ini_set(\'display_errors\',1);

$config = array(
    \'snippet\' => $modx->getOption(\'tag_mgr2.propertySetSnippet\',null,\'getPage\'),
    \'elementClass\' => \'modSnippet\',
    \'element\' => \'getProducts\'
);

$output = \'\';

require_once MODX_CORE_PATH."components/tag_manager2/model/tm_catalog.class.php";
$tm_catalog = new tmCatalog($modx, $scriptProperties);

//Приводим строку фильтрации к нормальному виду
list($flt_arr, $parents) = $tm_catalog->getRequestParams();

$snippetProperties = $tm_catalog->getSnippetProperties();

$show = isset($_GET[\'show\']) && !is_array($_GET[\'show\']) ? htmlspecialchars(urldecode(trim($_GET[\'show\']))) : \'\';
$limit = isset($_GET[\'limit\']) && is_numeric($_GET[\'limit\']) ? $_GET[\'limit\'] : $snippetProperties[\'limit\'];
$debug = isset($snippetProperties[\'debug\']) ? $snippetProperties[\'debug\'] : false;
$sortby = isset($_GET[\'sortby\']) && !is_array($_GET[\'sortby\']) ? htmlspecialchars(trim($_GET[\'sortby\'])) : $modx->getOption(\'sortby\',$snippetProperties,\'pagetitle\');
$sortdir = isset($_GET[\'sortdir\']) && !is_array($_GET[\'sortdir\']) ? htmlspecialchars(trim($_GET[\'sortdir\'])) : $modx->getOption(\'sortdir\',$snippetProperties,\'asc\');
$orderby = isset($snippetProperties[\'orderby\']) ? json_decode($snippetProperties[\'orderby\'], true) : array(); //берем параметр orderby из настроек, где он хранится в виде {"stock":"DESC"} 
if(strtolower($sortdir)==\'rand\' || strtolower($sortby)==\'rand\') { $sortby = \'RAND()\'; }

$sorting = $tm_catalog->getSorting($sortby, $sortdir);

/* объединяем параметр $orderby с сортировкой */
$orderby[$sorting[\'sortby\']] = $sorting[\'sortdir\'];
$sorting[\'orderby\'] = json_encode($orderby);

$properties = array_merge($config, $snippetProperties, $sorting);

if(count($flt_arr) > 0){
    if(isset($properties[\'className\']) && $properties[\'className\'] != \'modResource\'){
        $where_arr = !empty($properties[\'where\']) ? $modx->fromJSON($properties[\'where\']) : array();
        $where_arr = array_merge($where_arr, $flt_arr);
        $properties[\'where\'] = json_encode($where_arr);
        $properties[\'tvFilters\'] = \'\';
    }else{
        $properties[\'tvFilters\'] = json_encode($flt_arr);
    }
}

if(count($parents)>0) $properties[\'parents\'] = implode(\',\',$parents);

//if($debug) echo \'<pre>\'.print_r($properties,true).\'</pre>\';

$output .= $modx->runSnippet($config[\'snippet\'], $properties);

if(isset($modx->sanitizePatterns[\'tags1\'])) $output = preg_replace($modx->sanitizePatterns[\'tags1\'], \'\', $output);
if(isset($modx->sanitizePatterns[\'tags2\'])) $output = preg_replace($modx->sanitizePatterns[\'tags2\'], \'\', $output);

return $output;',
      'locked' => 0,
      'properties' => 'a:0:{}',
      'moduleguid' => '',
      'static' => 0,
      'static_file' => '',
      'content' => '/**
 * snippet tmCatalog
 *
 */

//error_reporting(E_ALL);
//ini_set(\'display_errors\',1);

$config = array(
    \'snippet\' => $modx->getOption(\'tag_mgr2.propertySetSnippet\',null,\'getPage\'),
    \'elementClass\' => \'modSnippet\',
    \'element\' => \'getProducts\'
);

$output = \'\';

require_once MODX_CORE_PATH."components/tag_manager2/model/tm_catalog.class.php";
$tm_catalog = new tmCatalog($modx, $scriptProperties);

//Приводим строку фильтрации к нормальному виду
list($flt_arr, $parents) = $tm_catalog->getRequestParams();

$snippetProperties = $tm_catalog->getSnippetProperties();

$show = isset($_GET[\'show\']) && !is_array($_GET[\'show\']) ? htmlspecialchars(urldecode(trim($_GET[\'show\']))) : \'\';
$limit = isset($_GET[\'limit\']) && is_numeric($_GET[\'limit\']) ? $_GET[\'limit\'] : $snippetProperties[\'limit\'];
$debug = isset($snippetProperties[\'debug\']) ? $snippetProperties[\'debug\'] : false;
$sortby = isset($_GET[\'sortby\']) && !is_array($_GET[\'sortby\']) ? htmlspecialchars(trim($_GET[\'sortby\'])) : $modx->getOption(\'sortby\',$snippetProperties,\'pagetitle\');
$sortdir = isset($_GET[\'sortdir\']) && !is_array($_GET[\'sortdir\']) ? htmlspecialchars(trim($_GET[\'sortdir\'])) : $modx->getOption(\'sortdir\',$snippetProperties,\'asc\');
$orderby = isset($snippetProperties[\'orderby\']) ? json_decode($snippetProperties[\'orderby\'], true) : array(); //берем параметр orderby из настроек, где он хранится в виде {"stock":"DESC"} 
if(strtolower($sortdir)==\'rand\' || strtolower($sortby)==\'rand\') { $sortby = \'RAND()\'; }

$sorting = $tm_catalog->getSorting($sortby, $sortdir);

/* объединяем параметр $orderby с сортировкой */
$orderby[$sorting[\'sortby\']] = $sorting[\'sortdir\'];
$sorting[\'orderby\'] = json_encode($orderby);

$properties = array_merge($config, $snippetProperties, $sorting);

if(count($flt_arr) > 0){
    if(isset($properties[\'className\']) && $properties[\'className\'] != \'modResource\'){
        $where_arr = !empty($properties[\'where\']) ? $modx->fromJSON($properties[\'where\']) : array();
        $where_arr = array_merge($where_arr, $flt_arr);
        $properties[\'where\'] = json_encode($where_arr);
        $properties[\'tvFilters\'] = \'\';
    }else{
        $properties[\'tvFilters\'] = json_encode($flt_arr);
    }
}

if(count($parents)>0) $properties[\'parents\'] = implode(\',\',$parents);

//if($debug) echo \'<pre>\'.print_r($properties,true).\'</pre>\';

$output .= $modx->runSnippet($config[\'snippet\'], $properties);

if(isset($modx->sanitizePatterns[\'tags1\'])) $output = preg_replace($modx->sanitizePatterns[\'tags1\'], \'\', $output);
if(isset($modx->sanitizePatterns[\'tags2\'])) $output = preg_replace($modx->sanitizePatterns[\'tags2\'], \'\', $output);

return $output;',
    ),
  ),
);